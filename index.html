<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Gilded Nuptials | Jessica & Nicolas</title>
    <!-- External Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --gold: #c5a059;
            --dark-gold: #a67c37;
            --off-white: #fdfaf6;
            --deep-navy: #1a2a3a;
            --charcoal: #2d3436;
        }

        body {
            font-family: 'Cormorant Garamond', serif;
            background-color: var(--off-white);
            color: var(--charcoal);
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 86c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zm76-26c.552 0 1-.448 1-1s-.448-1-1-1-1 .448-1 1 .448 1 1 1zm-11 30c.552 0 1-.448 1-1s-.448-1-1-1-1 .448-1 1 .448 1 1 1zm-45-40c.552 0 1-.448 1-1s-.448-1-1-1-1 .448-1 1 .448 1 1 1zm12-24c.552 0 1-.448 1-1s-.448-1-1-1-1 .448-1 1 .448 1 1 1z' fill='%23c5a059' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        .heading-font { font-family: 'Cinzel Decorative', cursive; }
        .serif-font { font-family: 'Playfair Display', serif; }

        .gold-border {
            border: 2px solid var(--gold);
            position: relative;
        }

        .gold-border::after {
            content: '';
            position: absolute;
            top: 4px; left: 4px; right: 4px; bottom: 4px;
            border: 1px solid var(--gold);
            pointer-events: none;
        }

        .nav-link {
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -5px; left: 0; width: 0; height: 1px;
            background-color: var(--gold);
            transition: width 0.3s;
        }

        .nav-link:hover::after, .nav-link.active::after { width: 100%; }

        .tab-content {
            display: none;
            animation: fadeIn 0.6s ease-out;
        }

        .tab-content.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .ornament {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 2rem 0;
        }

        .ornament::before, .ornament::after {
            content: "";
            height: 1px; width: 50px;
            background: var(--gold);
            margin: 0 15px;
        }

        .fancy-btn {
            background-color: var(--charcoal);
            color: var(--off-white);
            border: 1px solid var(--gold);
            transition: all 0.3s;
        }

        .fancy-btn:hover:not(:disabled) {
            background-color: var(--gold);
            color: white;
        }

        .fancy-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .lang-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 100;
        }

        .lang-btn {
            font-size: 0.75rem;
            letter-spacing: 0.1em;
            padding: 5px 10px;
            border: 1px solid var(--gold);
            cursor: pointer;
            transition: 0.3s;
        }

        .lang-btn.active {
            background-color: var(--gold);
            color: white;
        }

        [lang-content] { display: none; }
        body.lang-en [lang-content="en"] { display: inline; }
        body.lang-es [lang-content="es"] { display: inline; }
        
        body.lang-en div[lang-content="en"], 
        body.lang-en p[lang-content="en"],
        body.lang-en section[lang-content="en"] { display: block; }
        
        body.lang-es div[lang-content="es"], 
        body.lang-es p[lang-content="es"],
        body.lang-es section[lang-content="es"] { display: block; }

        .first-letter-cap::first-letter {
            font-size: 3rem;
            font-weight: bold;
            margin-right: 0.5rem;
            float: left;
            color: var(--gold);
            line-height: 1;
        }

        /* Fixed Storybook Structure - No Jumping & Compact */
        .book-wrapper {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
        }

        .book-content-area {
            display: grid;
            grid-template-columns: 1fr;
            grid-template-rows: 1fr;
            position: relative;
        }

        .book-slide {
            grid-area: 1 / 1 / 2 / 2;
            display: flex;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.4s ease-in-out;
            background: white;
        }

        .book-slide.active {
            opacity: 1;
            pointer-events: auto;
            position: relative;
            z-index: 1;
        }

        .book-image-pane {
            width: 40%;
            height: 320px; /* Reduced for a shorter container */
        }

        .book-image-pane img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .book-text-pane {
            width: 60%;
            padding: 1.5rem 2.5rem; /* Tightened padding to fit text better */
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .book-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 2.5rem;
            border-top: 1px solid #f0f0f0;
            background: #fff;
        }

        .nav-arrow {
            cursor: pointer;
            font-family: 'Cinzel Decorative', cursive;
            color: var(--gold);
            font-weight: bold;
            background: none;
            border: none;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            font-size: 0.8rem;
            transition: 0.2s;
        }

        .nav-arrow:hover:not(:disabled) {
            color: var(--dark-gold);
        }

        .nav-arrow:disabled {
            opacity: 0.2;
            cursor: default;
        }

        @media (max-width: 768px) {
            .book-slide {
                flex-direction: column !important;
            }
            .book-image-pane, .book-text-pane {
                width: 100%;
            }
            .book-image-pane {
                height: 200px;
            }
            .book-text-pane {
                padding: 1.25rem;
            }
        }
    </style>
</head>
<body class="min-h-screen lang-en">

    <!-- Language Toggle -->
    <div class="lang-toggle flex space-x-2">
        <button id="toggle-en" class="lang-btn active" onclick="setLanguage('en')">EN</button>
        <button id="toggle-es" class="lang-btn" onclick="setLanguage('es')">ES</button>
    </div>

    <!-- Header Section -->
    <header class="pt-16 pb-12 text-center bg-white border-b-4 border-double border-[#c5a059]">
        <div class="max-w-4xl mx-auto px-4">
            <p class="uppercase tracking-[0.3em] text-xs mb-4 text-[#a67c37]">
                <span lang-content="en">We invite you to celebrate the union of</span>
                <span lang-content="es">Les invitamos a celebrar la unión de</span>
            </p>
            <h1 class="heading-font text-4xl md:text-6xl text-gray-800 mb-2">Jessica & Nicolas</h1>
            <div class="ornament text-xl text-[#c5a059]">⚜</div>
            <p class="serif-font italic text-xl md:text-2xl text-gray-600">
                <span lang-content="en">April 3rd, 2027 &bull; Long Island, New York</span>
                <span lang-content="es">3 de abril de 2027 &bull; Long Island, Nueva York</span>
            </p>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="bg-white sticky top-0 z-50 shadow-sm border-b border-[#c5a059]">
        <div class="max-w-5xl mx-auto flex flex-wrap justify-center py-4 px-2 space-x-6 md:space-x-12 uppercase text-sm tracking-widest font-semibold">
            <button onclick="switchTab('home')" class="nav-link active" id="btn-home">
                <span lang-content="en">Our Story</span>
                <span lang-content="es">Nuestra Historia</span>
            </button>
            <button onclick="switchTab('events')" class="nav-link" id="btn-events">
                <span lang-content="en">The Events</span>
                <span lang-content="es">Eventos</span>
            </button>
            <button onclick="switchTab('registry')" class="nav-link" id="btn-registry">
                <span lang-content="en">Registry</span>
                <span lang-content="es">Registro</span>
            </button>
            <button onclick="switchTab('rsvp')" class="nav-link" id="btn-rsvp">
                <span lang-content="en">RSVP</span>
                <span lang-content="es">Confirmar</span>
            </button>
        </div>
    </nav>

    <main class="max-w-6xl mx-auto px-4 py-12">
        
        <!-- SECTION: HOME / STORYBOOK -->
        <section id="home" class="tab-content active">
            <div class="text-center mb-8">
                <h2 class="heading-font text-3xl text-gray-800">
                    <span lang-content="en">A Chronicle of Affection</span>
                    <span lang-content="es">Una Crónica de Afecto</span>
                </h2>
                <p class="italic text-gray-500 mt-1">
                    <span lang-content="en">Turn the pages of our history</span>
                    <span lang-content="es">Pase las páginas de nuestra historia</span>
                </p>
            </div>

            <div class="book-wrapper gold-border">
                <div class="book-content-area">
                    
                    <!-- Chapter 1 -->
                    <div class="book-slide active flex-row">
                        <div class="book-image-pane border-r border-[#c5a059]">
                            <img src="https://images.unsplash.com/photo-1510076857177-7470076d4098?auto=format&fit=crop&q=80&w=800">
                        </div>
                        <div class="book-text-pane">
                            <h3 class="heading-font text-[#a67c37] mb-3 uppercase tracking-wider text-xs">I. <span lang-content="en">The Prologue</span><span lang-content="es">El Prólogo</span></h3>
                            <p lang-content="en" class="text-lg leading-relaxed first-letter-cap">
                                Dearest Reader, we present the chronicles of Jessica and Nicolas. Their narrative is one woven of profound affection, steadfast friendship, and perhaps a touch of mathematical precision. It was a courtship both slow and gentle, commencing in the autumn of 2023.
                            </p>
                            <p lang-content="es" class="text-lg leading-relaxed first-letter-cap">
                                Querido Lector, presentamos las crónicas de Jessica y Nicolas. Su narrativa está tejida de un afecto profundo, una amistad inquebrantable y, tal vez, un toque de precisión matemática. Fue un cortejo lento y gentil, que comenzó en el otoño de 2023.
                            </p>
                        </div>
                    </div>

                    <!-- Chapter 2 -->
                    <div class="book-slide flex-row-reverse">
                        <div class="book-image-pane border-l border-[#c5a059]">
                            <img src="https://images.unsplash.com/photo-1473448912268-2022ce9509d8?auto=format&fit=crop&q=80&w=800">
                        </div>
                        <div class="book-text-pane">
                            <h3 class="heading-font text-[#a67c37] mb-3 uppercase tracking-wider text-xs">II. <span lang-content="en">Origins</span><span lang-content="es">Orígenes</span></h3>
                            <p lang-content="en" class="text-lg leading-relaxed">
                                Two souls from distant shores: Nicolas, hailing from the emerald peaks of Colombia, and Jessica, a daughter of the sun-drenched Cooper City, Florida. Though separated by vast geographies, they shared a common devotion to the grand tapestry of history.
                            </p>
                            <p lang-content="es" class="text-lg leading-relaxed">
                                Dos almas de orillas distantes: Nicolas, proveniente de las cimas esmeralda de Colombia, y Jessica, una hija de la soleada Cooper City, Florida. Aunque separados por vastas geografías, compartían una devoción común por el gran tapiz de la historia.
                            </p>
                        </div>
                    </div>

                    <!-- Chapter 3 -->
                    <div class="book-slide flex-row">
                        <div class="book-image-pane border-r border-[#c5a059]">
                            <img src="https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?auto=format&fit=crop&q=80&w=800">
                        </div>
                        <div class="book-text-pane">
                            <h3 class="heading-font text-[#a67c37] mb-3 uppercase tracking-wider text-sm">III. <span lang-content="en">The Encounter</span><span lang-content="es">El Encuentro</span></h3>
                            <p lang-content="en" class="text-lg leading-relaxed">
                                Their meeting transpired amidst the vibrant spirit of Miami in September 2023. For years, they had existed as strangers, observing one another from opposite ends of rooms with a perceived lack of attention. Little did they know the universe was arranging the scene for its greatest love story.
                            </p>
                            <p lang-content="es" class="text-lg leading-relaxed">
                                Su encuentro transcurrió en el espíritu vibrante de Miami en septiembre de 2023. Durante años, habían existido como extraños, observándose el uno al otro desde extremos opuestos de las habitaciones. Poco sabían que el universo estaba organizando la escena para su mayor historia de amor.
                            </p>
                        </div>
                    </div>

                    <!-- Chapter 4 -->
                    <div class="book-slide flex-row-reverse">
                        <div class="book-image-pane border-l border-[#c5a059]">
                            <img src="https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?auto=format&fit=crop&q=80&w=800">
                        </div>
                        <div class="book-text-pane">
                            <h3 class="heading-font text-[#a67c37] mb-3 uppercase tracking-wider text-sm">IV. <span lang-content="en">Manhattan Adventures</span><span lang-content="es">Aventuras en Manhattan</span></h3>
                            <p lang-content="en" class="text-lg leading-relaxed">
                                The second rendezvous occurred in the grand metropolis of New York. A weekend of laughter and spirited adventures was spent traversing their favorite city in the world. They jokingly whispered of a future in this beautiful metropolis, never guessing how soon it would arrive.
                            </p>
                            <p lang-content="es" class="text-lg leading-relaxed">
                                La segunda cita tuvo lugar en la gran metrópolis de Nueva York. Pasaron un fin de semana de risas y aventuras animadas recorriendo su ciudad favorita del mundo. Susurraron en broma sobre un futuro en esta hermosa metrópolis, sin adivinar cuán pronto llegaría.
                            </p>
                        </div>
                    </div>

                    <!-- Chapter 5 -->
                    <div class="book-slide flex-row">
                        <div class="book-image-pane border-r border-[#c5a059]">
                            <img src="https://images.unsplash.com/photo-1506157786151-b8491531f063?auto=format&fit=crop&q=80&w=800">
                        </div>
                        <div class="book-text-pane">
                            <h3 class="heading-font text-[#a67c37] mb-3 uppercase tracking-wider text-sm">V. <span lang-content="en">The Hudson River</span><span lang-content="es">El Río Hudson</span></h3>
                            <p lang-content="en" class="text-lg leading-relaxed">
                                Destiny soon called them to Jersey City. Jessica, whose father was raised in Brooklyn, had spent her life mocking the Jersey shores from the eastern banks of the Hudson. As Jessica often explains to her father now: <em>“It's on the other side of the Hudson River, Dad.”</em>
                            </p>
                            <p lang-content="es" class="text-lg leading-relaxed">
                                El destino pronto los llamó a Jersey City. Jessica, cuyo padre se crió en Brooklyn, había pasado su vida burlándose de las costas de Jersey desde las orillas orientales del Hudson. Como Jessica a menudo le explica a su padre ahora: <em>“Está al otro lado del río Hudson, papá”.</em>
                            </p>
                        </div>
                    </div>

                    <!-- Chapter 6 -->
                    <div class="book-slide flex-row-reverse">
                        <div class="book-image-pane border-l border-[#c5a059]">
                            <img src="Nicolas-Jessica-Manhatta-Proposal-234.jpg" onerror="this.src='https://images.unsplash.com/photo-1515934751635-c81c6bc9a2d8?auto=format&fit=crop&q=80&w=800'">
                        </div>
                        <div class="book-text-pane">
                            <h3 class="heading-font text-[#a67c37] mb-3 uppercase tracking-wider text-sm">VI. <span lang-content="en">The Covenant</span><span lang-content="es">El Pacto</span></h3>
                            <p lang-content="en" class="text-lg leading-relaxed">
                                On the twenty-second of August, 2025, Nicolas requested Jessica’s hand in marriage. It was a moment of profound commitment, a promise of a future built upon the bedrock of their meaningful friendship and shared aspirations amidst the backdrop of history.
                            </p>
                            <p lang-content="es" class="text-lg leading-relaxed">
                                El veintidós de agosto de 2025, Nicolas pidió la mano de Jessica en matrimonio. Fue un momento de profundo compromiso, una promesa de un futuro construido sobre la base de su amistad significativa y aspiraciones compartidas.
                            </p>
                        </div>
                    </div>

                    <!-- Chapter 7 -->
                    <div class="book-slide flex-row">
                        <div class="book-image-pane border-r border-[#c5a059]">
                            <img src="https://images.unsplash.com/photo-1518152006812-edab29b069ac?auto=format&fit=crop&q=80&w=800">
                        </div>
                        <div class="book-text-pane">
                            <h3 class="heading-font text-[#a67c37] mb-3 uppercase tracking-wider text-sm">VII. <span lang-content="en">Jersey Life</span><span lang-content="es">Vida en Jersey</span></h3>
                            <p lang-content="en" class="text-lg leading-relaxed">
                                They now dwell in the historic downtown of Jersey City, proud of their neighborhood. Their affection was so infectious that even Jessica’s father, a staunch Brooklynite, has converted his allegiances to the charms of the "Sixth Borough."
                            </p>
                            <p lang-content="es" class="text-lg leading-relaxed">
                                Ahora viven en el centro histórico de Jersey City, orgullosos de su vecindario. Su afecto fue tan contagioso que incluso el padre de Jessica, un firme brooklyniano, ha convertido sus lealtades a los encantos del "Sexto Distrito".
                            </p>
                        </div>
                    </div>

                    <!-- Chapter 8 -->
                    <div class="book-slide flex-row-reverse">
                        <div class="book-image-pane border-l border-[#c5a059]">
                            <img src="https://images.unsplash.com/photo-1511795409834-ef04bbd61622?auto=format&fit=crop&q=80&w=800">
                        </div>
                        <div class="book-text-pane">
                            <h3 class="heading-font text-[#a67c37] mb-3 uppercase tracking-wider text-sm">VIII. <span lang-content="en">The Eternal Bond</span><span lang-content="es">El Vínculo Eterno</span></h3>
                            <p lang-content="en" class="text-lg leading-relaxed">
                                Their love story is a noble pursuit of mutual growth and true friendship. It makes them individually the best versions of themselves as they prepare to dance within the grand halls of the Glen Cove Mansion.
                            </p>
                            <p lang-content="es" class="text-lg leading-relaxed">
                                Su historia de amor es una noble búsqueda del crecimiento mutuo y la verdadera amistad. Los convierte individualmente en las mejores versiones de sí mismos mientras se preparan para bailar en los grandes salones de la Mansión Glen Cove.
                            </p>
                            <p class="pt-2 font-semibold italic text-xs">
                                <span lang-content="en">Sincerely, Jessica and Nicolas.</span>
                                <span lang-content="es">Sinceramente, Jessica y Nicolas.</span>
                            </p>
                        </div>
                    </div>

                </div>

                <!-- Fixed Footer Navigation -->
                <div class="book-footer">
                    <button class="nav-arrow" id="prevBtn" onclick="changeSlide(-1)">&larr; <span lang-content="en">Prev</span><span lang-content="es">Ant</span></button>
                    <div class="chapter-counter"><span id="chapNum">1</span> / 8</div>
                    <button class="nav-arrow" id="nextBtn" onclick="changeSlide(1)"><span lang-content="en">Next</span><span lang-content="es">Sig</span> &rarr;</button>
                </div>
            </div>
        </section>

        <!-- SECTION: EVENTS -->
        <section id="events" class="tab-content">
            <div class="text-center mb-12">
                <h2 class="heading-font text-4xl mb-4">
                    <span lang-content="en">The Grand Festivities</span>
                    <span lang-content="es">Las Grandes Festividades</span>
                </h2>
                <p class="serif-font italic text-gray-600 text-center mx-auto">
                    <span lang-content="en">An itinerary of elegance</span>
                    <span lang-content="es">Un itinerario de elegancia</span>
                </p>
            </div>

            <div class="space-y-16 max-w-3xl mx-auto">
                <div class="flex flex-col md:flex-row gap-8 items-center">
                    <div class="w-full md:w-1/2 gold-border">
                        <img src="https://images.unsplash.com/photo-1470337458703-46ad1756a187?auto=format&fit=crop&q=80&w=600" class="w-full h-64 object-cover">
                    </div>
                    <div class="w-full md:w-1/2">
                        <h3 class="heading-font text-2xl text-[#a67c37] mb-2">
                            <span lang-content="en">The Engagement Soirée</span>
                            <span lang-content="es">La Soirée de Compromiso</span>
                        </h3>
                        <p class="uppercase text-xs tracking-tighter mb-4">
                            <span lang-content="en">Saturday, May 30th, 2026</span>
                            <span lang-content="es">Sábado, 30 de mayo de 2026</span>
                        </p>
                        <p class="text-gray-700 leading-relaxed mb-4">Cooper City, Florida</p>
                        <p class="text-gray-700 leading-relaxed mb-4">
                            <span lang-content="en">An evening to toast our intentions and celebrate with our loved ones in the Sunshine State.</span>
                            <span lang-content="es">Una velada para brindar por nuestras intenciones y celebrar con nuestros seres queridos en el Estado del Sol.</span>
                        </p>
                        <p class="font-bold text-xs uppercase tracking-widest text-[#a67c37]">
                            <span lang-content="en">Attire: Gilded Age Flare</span>
                            <span lang-content="es">Vestimenta: Estilo Época Dorada</span>
                        </p>
                    </div>
                </div>

                <div class="ornament">❧</div>

                <div class="flex flex-col md:flex-row-reverse gap-8 items-center">
                    <div class="w-full md:w-1/2 gold-border">
                        <img src="https://images.unsplash.com/photo-1544144433-d50aff500b91?auto=format&fit=crop&q=80&w=600" alt="The Mansion" class="w-full h-64 object-cover">
                    </div>
                    <div class="w-full md:w-1/2 text-right md:text-left">
                        <h3 class="heading-font text-2xl text-[#a67c37] mb-2">
                            <span lang-content="en">The Wedding Celebration</span>
                            <span lang-content="es">La Celebración de la Boda</span>
                        </h3>
                        <p class="uppercase text-xs tracking-tighter mb-4">
                            <span lang-content="en">Saturday, April 3rd, 2027</span>
                            <span lang-content="es">Sábado, 3 de abril de 2027</span>
                        </p>
                        <p class="text-gray-700 leading-relaxed mb-4">Glen Cove Mansion, Long Island</p>
                        <p class="italic text-gray-500 mb-4">
                            <span lang-content="en">More details to come.</span>
                            <span lang-content="es">Más detalles próximamente.</span>
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION: REGISTRY -->
        <section id="registry" class="tab-content">
            <div class="max-w-2xl mx-auto text-center py-12">
                <h2 class="heading-font text-4xl mb-8">
                    <span lang-content="en">The Registry</span>
                    <span lang-content="es">El Registro</span>
                </h2>
                <p class="text-xl mb-12 italic text-gray-600">
                    <span lang-content="en">"Your presence is our greatest treasure. However, should you wish to honor us with a gift, we have selected several establishments."</span>
                    <span lang-content="es">"Su presencia es nuestro mayor tesoro. Sin embargo, si desea honrarnos con un obsequio, hemos seleccionado varios establecimientos."</span>
                </p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <a href="#" class="block p-8 border border-[#c5a059] hover:bg-[#c5a059] hover:text-white transition-all group">
                        <h4 class="heading-font text-xl group-hover:text-white">Tiffany & Co.</h4>
                        <p class="text-sm mt-2">
                            <span lang-content="en">Fine China & Tableware</span>
                            <span lang-content="es">Vajilla Fina y Cristalería</span>
                        </p>
                    </a>
                    <a href="#" class="block p-8 border border-[#c5a059] hover:bg-[#c5a059] hover:text-white transition-all group">
                        <h4 class="heading-font text-xl group-hover:text-white">The Pratt Fund</h4>
                        <p class="text-sm mt-2">
                            <span lang-content="en">Historic Preservation Donation</span>
                            <span lang-content="es">Donación para Preservación Histórica</span>
                        </p>
                    </a>
                    <a href="#" class="block p-8 border border-[#c5a059] hover:bg-[#c5a059] hover:text-white transition-all group">
                        <h4 class="heading-font text-xl group-hover:text-white">Luxury Honeymoon</h4>
                        <p class="text-sm mt-2">
                            <span lang-content="en">A Grand Tour</span>
                            <span lang-content="es">Un Gran Recorrido</span>
                        </p>
                    </a>
                    <a href="#" class="block p-8 border border-[#c5a059] hover:bg-[#c5a059] hover:text-white transition-all group">
                        <h4 class="heading-font text-xl group-hover:text-white">Lord & Taylor</h4>
                        <p class="text-sm mt-2">
                            <span lang-content="en">Home Furnishings</span>
                            <span lang-content="es">Mobiliario para el Hogar</span>
                        </p>
                    </a>
                </div>
            </div>
        </section>

        <!-- SECTION: RSVP -->
        <section id="rsvp" class="tab-content">
            <div class="max-w-xl mx-auto bg-white p-10 gold-border shadow-xl">
                <h2 class="heading-font text-3xl text-center mb-2">
                    <span lang-content="en">Engagement Party RSVP</span>
                    <span lang-content="es">RSVP Fiesta de Compromiso</span>
                </h2>
                <p class="text-center italic text-gray-500 mb-8">
                    <span lang-content="en">"R.S.V.P. for the celebration in Cooper City"</span>
                    <span lang-content="es">"Por favor confirme su asistencia para la celebración en Cooper City"</span>
                </p>
                
                <form id="rsvp-form" class="space-y-8">
                    <div class="flex flex-col">
                        <label class="uppercase text-[10px] tracking-widest font-bold text-[#a67c37] mb-1">
                            <span lang-content="en">Your Full Name(s)</span>
                            <span lang-content="es">Su Nombre Completo</span>
                        </label>
                        <input type="text" id="rsvp-name" placeholder="Jessica & Nicolas" class="py-2 border-none focus:ring-0 text-lg" required>
                    </div>

                    <div class="space-y-6 pt-4">
                        <p class="uppercase text-[10px] tracking-widest font-bold text-[#a67c37]">
                            <span lang-content="en">Will you join us on May 30th, 2026?</span>
                            <span lang-content="es">¿Nos acompañará el 30 de mayo de 2026?</span>
                        </p>
                        <div class="flex items-center space-x-6">
                            <label class="inline-flex items-center cursor-pointer">
                                <input type="radio" name="engagement" value="accept" class="form-radio text-[#c5a059]" required>
                                <span class="ml-2">
                                    <span lang-content="en">Joyfully Accepts</span>
                                    <span lang-content="es">Acepto con Gusto</span>
                                </span>
                            </label>
                            <label class="inline-flex items-center cursor-pointer">
                                <input type="radio" name="engagement" value="decline" class="form-radio text-[#c5a059]">
                                <span class="ml-2">
                                    <span lang-content="en">Regretfully Declines</span>
                                    <span lang-content="es">Declino con Pesar</span>
                                </span>
                            </label>
                        </div>
                    </div>

                    <div class="flex flex-col pt-4">
                        <label class="uppercase text-[10px] tracking-widest font-bold text-[#a67c37] mb-1">
                            <span lang-content="en">Dietary Restrictions & Notes</span>
                            <span lang-content="es">Restricciones Dietéticas y Notas</span>
                        </label>
                        <textarea id="rsvp-notes" rows="2" class="py-2 border-none focus:ring-0 text-md" placeholder="..."></textarea>
                    </div>

                    <button type="submit" id="rsvp-submit" class="w-full fancy-btn py-4 heading-font text-lg tracking-widest">
                        <span lang-content="en">Submit Response</span>
                        <span lang-content="es">Enviar Respuesta</span>
                    </button>
                </form>
                <div id="success-msg" class="hidden mt-8 text-center text-green-700 italic font-bold">
                    <span lang-content="en">Thank you. Your response has been recorded in our ledger.</span>
                    <span lang-content="es">Gracias. Su respuesta ha sido registrada en nuestro libro.</span>
                </div>
            </div>
        </section>

    </main>

    <footer class="mt-20 py-12 bg-white border-t border-[#c5a059] text-center">
        <p class="heading-font text-lg text-gray-700 mb-2">J & N</p>
        <p class="text-xs uppercase tracking-[0.2em] text-[#a67c37]">Long Island &bull; MMXXVII</p>
    </footer>

    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        const firebaseConfig = JSON.parse(__firebase_config);
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'gilded-nuptials';

        // --- GOOGLE SHEETS CONFIGURATION ---
        const googleSheetURL = "https://script.google.com/macros/s/AKfycbz9YdAw-8F0v9_5vOU74eNx3CN-anl424OzZx1N0k3iI1D3A8x77PfhtdCTuFbeECyd/exec"; 

        let currentUser = null;

        const initAuth = async () => {
            if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                await signInWithCustomToken(auth, __initial_auth_token);
            } else {
                await signInAnonymously(auth);
            }
        };

        onAuthStateChanged(auth, (user) => {
            currentUser = user;
        });

        initAuth();

        window.handleRSVPSubmit = async (event) => {
            event.preventDefault();
            const submitBtn = document.getElementById('rsvp-submit');
            submitBtn.disabled = true;

            const name = document.getElementById('rsvp-name').value;
            const engagement = document.querySelector('input[name="engagement"]:checked').value;
            const notes = document.getElementById('rsvp-notes').value;

            const rsvpData = {
                guestName: name,
                status: engagement,
                dietaryNotes: notes,
                timestamp: serverTimestamp(),
                submittedAt: new Date().toISOString()
            };

            try {
                // 1. Save to Internal Firestore Ledger (MANDATORY RULE 1)
                if (currentUser) {
                    await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'rsvps'), rsvpData);
                }

                // 2. Save to Google Sheet (Optional Upgrade)
                if (googleSheetURL) {
                    await fetch(googleSheetURL, {
                        method: 'POST',
                        mode: 'no-cors',
                        cache: 'no-cache',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(rsvpData)
                    });
                }

                document.getElementById('rsvp-form').classList.add('hidden');
                document.getElementById('success-msg').classList.remove('hidden');
            } catch (error) {
                console.error("Error saving RSVP:", error);
                alert("An error occurred. Please try again.");
                submitBtn.disabled = false;
            }
        };

        document.getElementById('rsvp-form').addEventListener('submit', window.handleRSVPSubmit);
    </script>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.book-slide');
        
        window.changeSlide = function(direction) {
            slides[currentSlide].classList.remove('active');
            currentSlide = (currentSlide + direction + slides.length) % slides.length;
            slides[currentSlide].classList.add('active');
            
            document.getElementById('chapNum').textContent = currentSlide + 1;
            document.getElementById('prevBtn').disabled = (currentSlide === 0);
            document.getElementById('nextBtn').disabled = (currentSlide === slides.length - 1);
        }

        document.getElementById('prevBtn').disabled = true;

        window.setLanguage = function(lang) {
            document.body.className = 'min-h-screen lang-' + lang;
            document.getElementById('toggle-en').classList.toggle('active', lang === 'en');
            document.getElementById('toggle-es').classList.toggle('active', lang === 'es');
        }

        window.switchTab = function(tabId) {
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(c => c.classList.remove('active'));

            const links = document.querySelectorAll('.nav-link');
            links.forEach(l => l.classList.remove('active'));

            document.getElementById(tabId).classList.add('active');
            document.getElementById('btn-' + tabId).classList.add('active');

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>
